# Telegram Bot –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Å—ã / –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram –ë–æ—Ç–∞

## üì± –°–∏–ø–∞—Ç—Ç–∞–º–∞ / –û–ø–∏—Å–∞–Ω–∏–µ

Telegram –±–æ—Ç—ã “õ–æ“ì–∞–º–¥—ã“õ –∫”©–ª—ñ–∫—Ç–µ–≥—ñ –º”ô—Å–µ–ª–µ–ª–µ—Ä —Ç—É—Ä–∞–ª—ã –∂–∞–ª–æ–±–∞–ª–∞—Ä–¥—ã “õ–∞–±—ã–ª–¥–∞–π–¥—ã, –æ–ª–∞—Ä–¥—ã AI –∞—Ä“õ—ã–ª—ã ”©“£–¥–µ–π–¥—ñ –∂”ô–Ω–µ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–Ω—ã“£ –∂–∞–ª–æ–±–∞–ª–∞—Ä —Ç—ñ–∑—ñ–º—ñ–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ.

Telegram –±–æ—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∂–∞–ª–æ–±—ã –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã –≤ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ AI –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∂–∞–ª–æ–± –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üöÄ –û—Ä–Ω–∞—Ç—É / –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. Telegram –±–æ—Ç—ã–Ω “õ“±—Ä—É / –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. Telegram-–¥–∞ `@BotFather` –±–æ—Ç—ã–Ω —Ç–∞–±—ã“£—ã–∑
2. `/newbot` –∫–æ–º–∞–Ω–¥–∞—Å—ã–Ω –∂—ñ–±–µ—Ä—ñ“£—ñ–∑
3. –ë–æ—Ç –∞—Ç—ã–Ω –∂”ô–Ω–µ username –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑
4. Bot token –∞–ª—ã“£—ã–∑ (–º—ã—Å–∞–ª: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`)

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

`src/main/resources/application.properties` —Ñ–∞–π–ª—ã–Ω ”©“£–¥–µ“£—ñ–∑:

```properties
# Telegram Bot Configuration
telegram.bot.token=–°–Ü–ó–î–Ü“¢_BOT_TOKEN
telegram.bot.username=–°–Ü–ó–î–Ü“¢_BOT_USERNAME
```

**–ú—ã—Å–∞–ª:**
```properties
telegram.bot.token=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
telegram.bot.username=AlmatyTransportBot
```

### 3. “ö–æ—Å—ã–º—à–∞–Ω—ã —ñ—Å–∫–µ “õ–æ—Å—É / –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
./mvnw clean install
./mvnw spring-boot:run
```

–ù–µ–º–µ—Å–µ Docker –∞—Ä“õ—ã–ª—ã:
```bash
docker-compose up --build
```

## üéØ –ú“Ø–º–∫—ñ–Ω–¥—ñ–∫—Ç–µ—Ä / –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ö–æ–º–∞–Ω–¥–∞–ª–∞—Ä / –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –°–∏–ø–∞—Ç—Ç–∞–º–∞ / –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------------------|
| `/start` | –ë–æ—Ç—Ç—ã —ñ—Å–∫–µ “õ–æ—Å—É –∂”ô–Ω–µ “õ–æ—à –∫–µ–ª—É —Ö–∞–±–∞—Ä–ª–∞–º–∞—Å—ã / –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ |
| `/help` | –ê–Ω—ã“õ—Ç–∞–º–∞ / –°–ø—Ä–∞–≤–∫–∞ |
| `/mycomplaints` | –ú–µ–Ω—ñ“£ –∂–∞–ª–æ–±–∞–ª–∞—Ä—ã–º / –ú–æ–∏ –∂–∞–ª–æ–±—ã |
| `–ú–µ–Ω—ñ“£ –∂–∞–ª–æ–±–∞–ª–∞—Ä—ã–º` | –ñ–∞–ª–æ–±–∞–ª–∞—Ä —Ç—ñ–∑—ñ–º—ñ–Ω –∫”©—Ä—Å–µ—Ç—É (–±–∞—Ç—ã—Ä–º–∞) / –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∂–∞–ª–æ–± (–∫–Ω–æ–ø–∫–∞) |

### –ñ–∞–ª–æ–±–∞ –∂—ñ–±–µ—Ä—É / –û—Ç–ø—Ä–∞–≤–∫–∞ –∂–∞–ª–æ–±—ã

–ë–æ—Ç —á–∞—Ç—ã–Ω–∞ –º”ô—Å–µ–ª–µ–Ω—ñ –∂–∞–π “ì–∞–Ω–∞ –∂–∞–∑—ã“£—ã–∑:

**–ú—ã—Å–∞–ª–¥–∞—Ä / –ü—Ä–∏–º–µ—Ä—ã:**
- ‚úÖ `65 –∞–≤—Ç–æ–±—É—Å ”©—Ç–µ –µ—Å–∫—ñ, –∂“Ø—Ä–≥—ñ–∑—É—à—ñ –¥”©—Ä–µ–∫—ñ`
- ‚úÖ `12 –º–∞—Ä—à—Ä—É—Ç 30 –º–∏–Ω—É—Ç“õ–∞ –∫–µ—à—ñ–≥–µ–¥—ñ`
- ‚úÖ `–¢—Ä–æ–ª–ª–µ–π–±—É—Å 4 –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä —ñ—Å—Ç–µ–º–µ–π–¥—ñ`
- ‚úÖ `–ê–≤—Ç–æ–±—É—Å ‚Ññ23 –≤–æ–¥–∏—Ç–µ–ª—å –∫—É—Ä–∏–ª –≤–æ –≤—Ä–µ–º—è –¥–≤–∏–∂–µ–Ω–∏—è`

### AI ”©“£–¥–µ—É / AI –æ–±—Ä–∞–±–æ—Ç–∫–∞

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç—Ç—ã —Ç“Ø—Ä–¥–µ –∞–Ω—ã“õ—Ç–∞–π–¥—ã:
- üöå **–ú–∞—Ä—à—Ä—É—Ç** - “õ–∞–π –º–∞—Ä—à—Ä—É—Ç—Ç–∞ –º”ô—Å–µ–ª–µ –±–∞—Ä
- üìç **–û—Ä—ã–Ω** - “õ–∞–π–¥–∞ –±–æ–ª“ì–∞–Ω
- üë§ **–ñ–∞—É–∞–ø—Ç—ã** - –∫—ñ–º –∂–∞—É–∞–ø—Ç—ã
- üè∑ **–ê—Å–ø–µ–∫—Ç—ñ–ª–µ—Ä** - –º”ô—Å–µ–ª–µ —Ç“Ø—Ä—ñ (“õ–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫, –∂–∞–π–ª—ã–ª—ã“õ, —Ç.–±.)
- üéØ **–ë–∞—Å—ã–º–¥—ã“õ** - “õ–∞–Ω—à–∞–ª—ã“õ—Ç—ã –º–∞“£—ã–∑–¥—ã

## üí¨ –•–∞–±–∞—Ä–ª–∞–º–∞ —Ñ–æ—Ä–º–∞—Ç—ã / –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π

### –ñ–∞–ª–æ–±–∞ “õ–∞–±—ã–ª–¥–∞–Ω–¥—ã / –ñ–∞–ª–æ–±–∞ –ø—Ä–∏–Ω—è—Ç–∞

```
‚úÖ –ñ–∞–ª–æ–±–∞ “õ–∞–±—ã–ª–¥–∞–Ω–¥—ã!

üöå –ú–∞—Ä—à—Ä—É—Ç: 65
üéØ –û–±—ä–µ–∫—Ç: –ê–≤—Ç–æ–±—É—Å
üìç –û—Ä—ã–Ω: –ú–æ–º—ã—à“±–ª—ã-–ü–∞–Ω—Ñ–∏–ª–æ–≤ –∞—è–ª–¥–∞–º–∞—Å—ã
üë§ –ñ–∞—É–∞–ø—Ç—ã: –ñ“Ø—Ä–≥—ñ–∑—É—à—ñ

üî¥ –ë–∞—Å—ã–º–¥—ã“õ: –ñ–æ“ì–∞—Ä—ã

üè∑ –ê—Å–ø–µ–∫—Ç—ñ–ª–µ—Ä:
  ‚Ä¢ –ê–≤—Ç–æ–±—É—Å —Å–∞–ø–∞—Å—ã
  ‚Ä¢ –ñ“Ø—Ä–≥—ñ–∑—É—à—ñ –º—ñ–Ω–µ–∑-“õ“±–ª“õ—ã
  ‚Ä¢ “ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫

üìä –ñ–∞–ª–æ–±–∞ –∂“Ø–π–µ–¥–µ —Ç—ñ—Ä–∫–µ–ª–¥—ñ –∂”ô–Ω–µ ”©“£–¥–µ–ª—É–¥–µ.
```

### –ú–µ–Ω—ñ“£ –∂–∞–ª–æ–±–∞–ª–∞—Ä—ã–º / –ú–æ–∏ –∂–∞–ª–æ–±—ã

```
üìã –°—ñ–∑–¥—ñ“£ –∂–∞–ª–æ–±–∞–ª–∞—Ä—ã“£—ã–∑ (3):

1. üöå 65 –º–∞—Ä—à—Ä—É—Ç
üìç –ú–æ–º—ã—à“±–ª—ã-–ü–∞–Ω—Ñ–∏–ª–æ–≤ –∞—è–ª–¥–∞–º–∞—Å—ã
üî¥ –ñ–æ“ì–∞—Ä—ã
üìÖ 07.11.2024 14:30
üìä –°—Ç–∞—Ç—É—Å: üÜï –ñ–∞“£–∞
65 –∞–≤—Ç–æ–±—É—Å ”©—Ç–µ –µ—Å–∫—ñ, —ñ—à—ñ –ª–∞—Å...

2. üöå 12 –º–∞—Ä—à—Ä—É—Ç
üìç –ú–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –ê–ª–∞—Ç–∞—É
üü° –û—Ä—Ç–∞—à–∞
üìÖ 05.11.2024 09:15
üìä –°—Ç–∞—Ç—É—Å: ‚è≥ ”®“£–¥–µ–ª—É–¥–µ
–ê–≤—Ç–æ–±—É—Å 12 –º–∞—Ä—à—Ä—É—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ–ø–∞–∑–¥—ã–≤–∞–µ—Ç...

üí° –ñ–∞–ª–æ–±–∞–ª–∞—Ä —Ç—ñ–∑—ñ–º—ñ —Å–æ“£“ì—ã ”©–∑–≥–µ—Ä—ñ—Å—Ç–µ—Ä –±–æ–π—ã–Ω—à–∞ –∫”©—Ä—Å–µ—Ç—ñ–ª–≥–µ–Ω.
```

## üîß –¢–µ—Ö–Ω–∏–∫–∞–ª—ã“õ –¥–µ—Ç–∞–ª—å–¥–∞—Ä / –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Telegram User
     ‚Üì
ComplaintTelegramBot.java (–±–æ—Ç –ª–æ–≥–∏–∫–∞—Å—ã)
     ‚Üì
TelegramBotService.java (webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Å—ã)
     ‚Üì
n8n Webhook (http://localhost:5678/webhook/...)
     ‚Üì
AI ”©“£–¥–µ—É / AI –æ–±—Ä–∞–±–æ—Ç–∫–∞
     ‚Üì
ComplaintRepository (–¥–µ—Ä–µ–∫“õ–æ—Ä“ì–∞ —Å–∞“õ—Ç–∞—É)
```

### –§–∞–π–ª–¥–∞—Ä / –§–∞–π–ª—ã

- `config/TelegramBotConfig.java` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `service/ComplaintTelegramBot.java` - –Ω–µ–≥—ñ–∑–≥—ñ –±–æ—Ç –ª–æ–≥–∏–∫–∞—Å—ã
- `service/TelegramBotService.java` - webhook “õ—ã–∑–º–µ—Ç—ñ

### Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Å—ã

–ë–æ—Ç POST –∑–∞–ø—Ä–æ—Å—ã–Ω –∂—ñ–±–µ—Ä–µ–¥—ñ:

```json
{
  "text": "65 –∞–≤—Ç–æ–±—É—Å ”©—Ç–µ –µ—Å–∫—ñ, –∂“Ø—Ä–≥—ñ–∑—É—à—ñ –¥”©—Ä–µ–∫—ñ",
  "source": "telegram",
  "username": "user123"
}
```

n8n –∂–∞—É–∞–±—ã:
```json
{
  "route": "65",
  "object": "–ê–≤—Ç–æ–±—É—Å",
  "place": "–ú–æ–º—ã—à“±–ª—ã-–ü–∞–Ω—Ñ–∏–ª–æ–≤ –∞—è–ª–¥–∞–º–∞—Å—ã",
  "actor": "–ñ“Ø—Ä–≥—ñ–∑—É—à—ñ",
  "priority": "–ñ–æ“ì–∞—Ä—ã",
  "aspects": ["–ê–≤—Ç–æ–±—É—Å —Å–∞–ø–∞—Å—ã", "–ñ“Ø—Ä–≥—ñ–∑—É—à—ñ –º—ñ–Ω–µ–∑-“õ“±–ª“õ—ã"]
}
```

## üé® –≠–º–æ–¥–∑–∏–ª–µ—Ä –∂”ô–Ω–µ —Å—Ç–∞—Ç—É—Å—Ç–∞—Ä / –≠–º–æ–¥–∑–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã

### –ë–∞—Å—ã–º–¥—ã“õ / –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- üî¥ ”®—Ç–µ –∂–æ“ì–∞—Ä—ã / –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π
- üü† –ñ–æ“ì–∞—Ä—ã / –í—ã—Å–æ–∫–∏–π
- üü° –û—Ä—Ç–∞—à–∞ / –°—Ä–µ–¥–Ω–∏–π
- üü¢ –¢”©–º–µ–Ω / –ù–∏–∑–∫–∏–π

### –°—Ç–∞—Ç—É—Å—Ç–∞—Ä / –°—Ç–∞—Ç—É—Å—ã
- üÜï –ñ–∞“£–∞ / –ù–æ–≤—ã–π
- ‚è≥ ”®“£–¥–µ–ª—É–¥–µ / –í –æ–±—Ä–∞–±–æ—Ç–∫–µ
- ‚úÖ –®–µ—à—ñ–ª–¥—ñ / –†–µ—à–µ–Ω–æ
- ‚ùå “ö–∞–±—ã–ª–¥–∞–Ω–±–∞–¥—ã / –û—Ç–∫–ª–æ–Ω–µ–Ω–æ

## üêõ “ö–∞—Ç–µ–ª–µ—Ä–¥—ñ —à–µ—à—É / –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –∂–∞—É–∞–ø –±–µ—Ä–º–µ–π–¥—ñ / –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. Token –¥“±—Ä—ã—Å –µ–Ω–≥—ñ–∑—ñ–ª–≥–µ–Ω—ñ–Ω —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑
2. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –±–∞–π–ª–∞–Ω—ã—Å—ã–Ω —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑
3. –õ–æ–≥—Ç–∞—Ä–¥—ã “õ–∞—Ä–∞“£—ã–∑: `tail -f logs/application.log`

### Webhook –∂“±–º—ã—Å —ñ—Å—Ç–µ–º–µ–π–¥—ñ / Webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. n8n —ñ—Å–∫–µ “õ–æ—Å—ã–ª“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑
2. Webhook URL –¥“±—Ä—ã—Å –µ–∫–µ–Ω—ñ–Ω —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑
3. `curl` –∞—Ä“õ—ã–ª—ã —Ç–µ—Å—Ç—ñ–ª–µ“£—ñ–∑:
```bash
curl -X POST http://localhost:5678/webhook/4154f6f7-5d49-470d-a2ba-bbc09bccef09 \
  -H "Content-Type: application/json" \
  -d '{"text":"—Ç–µ—Å—Ç —Ö–∞–±–∞—Ä–ª–∞–º–∞—Å—ã","source":"telegram","username":"test"}'
```

## üì± “ö–æ–ª–¥–∞–Ω—É—à—ã“ì–∞ –Ω“±—Å“õ–∞—É–ª—ã“õ / –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. **–ë–æ—Ç—Ç—ã —Ç–∞–±—É** - Telegram-–¥–∞ `@YourBotUsername` —ñ–∑–¥–µ“£—ñ–∑
2. **–ë–∞—Å—Ç–∞—É** - `/start` –∫–æ–º–∞–Ω–¥–∞—Å—ã–Ω –±–∞—Å—ã“£—ã–∑
3. **–ñ–∞–ª–æ–±–∞ –∂—ñ–±–µ—Ä—É** - –ú”ô—Å–µ–ª–µ–Ω—ñ –∂–∞–π “ì–∞–Ω–∞ –∂–∞–∑—ã“£—ã–∑
4. **–ñ–∞–ª–æ–±–∞–ª–∞—Ä–¥—ã –∫”©—Ä—É** - "–ú–µ–Ω—ñ“£ –∂–∞–ª–æ–±–∞–ª–∞—Ä—ã–º" –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å—ã“£—ã–∑ –Ω–µ–º–µ—Å–µ `/mycomplaints` –∂–∞–∑—ã“£—ã–∑

## üîê “ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ / –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- Bot token-–¥—ã “õ–∞—É—ñ–ø—Å—ñ–∑ —Å–∞“õ—Ç–∞“£—ã–∑
- `.env` —Ñ–∞–π–ª—ã–Ω `.gitignore`-“õ–∞ “õ–æ—Å—ã“£—ã–∑
- Production-–¥–∞ environment variables “õ–æ–ª–¥–∞–Ω—ã“£—ã–∑

## üìû “ö–æ–ª–¥–∞—É / –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–°“±—Ä–∞“õ—Ç–∞—Ä –±–æ–ª—Å–∞, issue –∞—à—ã“£—ã–∑ –Ω–µ–º–µ—Å–µ —Ç–µ—Ö–Ω–∏–∫–∞–ª—ã“õ “õ–æ–ª–¥–∞—É “õ—ã–∑–º–µ—Ç—ñ–Ω–µ —Ö–∞–±–∞—Ä–ª–∞—Å—ã“£—ã–∑.

---

**–î–∞–π—ã–Ω–¥–∞–ª–¥—ã:** Big Data Hackathon Team  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–ö“Ø–Ω—ñ:** 2024-11-07

